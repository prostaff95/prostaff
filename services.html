<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PROSTAFF — Firmalar</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b1733; --card:#121f3f; --muted:#8fa3c9; --text:#e9f0ff;
      --brand1:#1773ff; --brand2:#00c2ff; --ok:#27d980;
      --chip:#1b2b56; --chipText:#cfe0ff; --shadow:0 10px 30px rgba(0,0,0,.25);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
    a{color:inherit;text-decoration:none}
    .nav{display:flex;gap:16px;align-items:center;justify-content:center;padding:18px 12px;background:linear-gradient(90deg,#0b1733,#0f2150)}
    .nav a{opacity:.85}
    .nav a.active{opacity:1;font-weight:700}
    .wrap{max-width:980px;margin:18px auto;padding:0 14px}
    .filters{background:var(--card);border-radius:16px;padding:14px;display:grid;grid-template-columns:1fr 180px 140px;gap:10px;box-shadow:var(--shadow)}
    .filters input,.filters select{width:100%;padding:12px;border:1px solid #2a3b6b;border-radius:12px;background:#0e1a39;color:var(--text)}
    .filters button{border:0;border-radius:12px;background:linear-gradient(90deg,var(--brand1),var(--brand2));color:#fff;font-weight:700}
    .cards{margin-top:16px;display:grid;gap:16px}
    .card{background:var(--card);border-radius:18px;padding:16px;display:grid;grid-template-columns:72px 1fr auto;gap:14px;align-items:center;box-shadow:var(--shadow)}
    .logo{width:72px;height:72px;border-radius:16px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#23a6d5,#23d5ab);font-size:30px;font-weight:800}
    .name{font-size:22px;font-weight:700;margin:0 0 2px}
    .meta{color:var(--muted);font-size:14px;margin:4px 0 10px}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{background:var(--chip);color:var(--chipText);padding:6px 10px;border-radius:999px;font-size:12px}
    .rating{display:inline-flex;align-items:center;gap:6px}
    .rating .star{color:#ffd34d}
    .actions{display:flex;flex-direction:column;gap:10px}
    .btn{padding:12px 16px;border-radius:12px;border:1px solid #2a3b6b;background:#0e1a39;color:#fff;text-align:center;font-weight:700}
    .btn.primary{border:0;background:linear-gradient(90deg,var(--brand1),var(--brand2))}
    @media (max-width:680px){
      .filters{grid-template-columns:1fr}
      .card{grid-template-columns:56px 1fr}
      .actions{grid-column:1 / -1;flex-direction:row}
    }
  </style>
</head>
<body>
  <nav class="nav">
    <a href="index.html">← Bosh sahifa</a>
    <a href="workers.html">Ishchilar</a>
    <a href="services.html" class="active">Firmalar →</a>
  </nav>

  <div class="wrap">
    <!-- FILTRLAR -->
    <div class="filters">
      <input id="q" type="search" placeholder="Qidiruv: firma nomi, shahar, yo‘nalish..." />
      <select id="city">
        <option value="">Shahar (barchasi)</option>
        <option value="Toshkent">Toshkent</option>
        <option value="Samarqand">Samarqand</option>
        <option value="Buxoro">Buxoro</option>
        <option value="Andijon">Andijon</option>
        <option value="Namangan">Namangan</option>
        <option value="Farg‘ona">Farg‘ona</option>
        <option value="Navoiy">Navoiy</option>
        <option value="Xorazm">Xorazm</option>
      </select>
      <button id="apply">Qo‘llash</button>
    </div>

    <div id="list" class="cards"></div>
  </div>

  <script>
    // Demo firmalar (12+)
    const FIRMS = [
      {name:'CleanPro',       field:'Tozalash xizmati',  city:'Toshkent',  rating:4.9, phone:'+998901112233'},
      {name:'Sparkle Team',   field:'Ofis tozalash',     city:'Samarqand', rating:4.8, phone:'+998935551212'},
      {name:'EcoWash',        field:'Uy tozalash',       city:'Buxoro',    rating:4.7, phone:'+998993334455'},
      {name:'Shine&Co',       field:'Qurilishdan keyin', city:'Toshkent',  rating:4.8, phone:'+998909009090'},
      {name:'GardenHelp',     field:'Bog‘ ishlari',      city:'Namangan',  rating:4.6, phone:'+998939191919'},
      {name:'MoveAssist',     field:'Yuk tashish',       city:'Andijon',   rating:4.7, phone:'+998971010101'},
      {name:'FloorCare',      field:'Pol yuvish',        city:'Farg‘ona',  rating:4.6, phone:'+998935551010'},
      {name:'GlassMaster',    field:'Oynalar',           city:'Navoiy',    rating:4.7, phone:'+998902225566'},
      {name:'FreshHome',      field:'Uy-bekalik',        city:'Xorazm',    rating:4.5, phone:'+998977778899'},
      {name:'DeepClean',      field:'General tozalash',  city:'Samarqand', rating:4.9, phone:'+998931234567'},
      {name:'QuickFix',       field:'Mayda ta’mir',      city:'Toshkent',  rating:4.6, phone:'+998909876543'},
      {name:'Shodlik Servis', field:'Ko‘p yo‘nalish',    city:'Buxoro',    rating:4.7, phone:'+998935500700'}
    ];

    const listEl = document.getElementById('list');
    const qEl    = document.getElementById('q');
    const cityEl = document.getElementById('city');
    document.getElementById('apply').addEventListener('click', render);

    function initials(name){
      return name.split(' ').map(w=>w[0]).slice(0,2).join('').toUpperCase();
    }

    function firmCard(f){
      const params = new URLSearchParams({
        company: f.name,
        service: f.field,
        city: f.city,
        phone: f.phone
      }).toString();

      return `
        <div class="card">
          <div class="logo">${initials(f.name)}</div>
          <div>
            <div class="name">${f.name}</div>
            <div class="meta">
              <span class="rating"><span class="star">★</span> ${f.rating}</span>
              &nbsp;•&nbsp; ${f.field} • ${f.city}
            </div>
            <div class="chips">
              <span class="chip">obuna: 600 000 so‘m/oy (demo)</span>
              <span class="chip">tezkor chaqiriq</span>
            </div>
          </div>
          <div class="actions">
            <a class="btn" href="#" onclick="alert('Batafsil ma’lumot demo rejimida.');return false;">Batafsil</a>
            <a class="btn primary" target="_blank" href="firm-order.html?${params}">Chaqirish</a>
          </div>
        </div>
      `;
    }

    function render(){
      const q = (qEl.value||'').toLowerCase().trim();
      const city = cityEl.value;
      const rows = FIRMS.filter(f=>{
        const okQ = !q || [f.name,f.field,f.city].join(' ').toLowerCase().includes(q);
        const okC = !city || f.city===city;
        return okQ && okC;
      }).map(firmCard).join('');
      listEl.innerHTML = rows || `<div class="meta" style="padding:18px">Hech narsa topilmadi.</div>`;
    }

    render();
  </script>
</body>
</html>
